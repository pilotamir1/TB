# راهنمای تشخیص و بررسی سیستم TB Trading Bot

این مستند شامل دو پرامپت فارسی برای تجزیه و تحلیل جامع سیستم TB Trading Bot است.

## نحوه استفاده

### مرحله 1: تولید آمار تشخیصی
ابتدا با استفاده از ابزار log_summary.py آمار پایه را تولید کنید:

```bash
python scripts/log_summary.py --input LOG.txt --out-json reports/diagnostic_stats.json --out-md reports/diagnostic_stats.md
```

### مرحله 2: اجرای تشخیص
از پرامپت اول (تشخیص) استفاده کنید تا گزارش تشخیصی جامع تولید شود.

### مرحله 3: برنامه اصلاحات (فقط پس از مرحله 2)
از پرامپت دوم (برنامه اصلاحات) برای ایجاد برنامه عملیاتی بهبود استفاده کنید.

---

## پرامپت 1: تشخیص (Diagnostic Only)

```
شما یک متخصص تجزیه و تحلیل سیستم‌های معاملاتی هستید. لطفاً یک گزارش تشخیصی جامع از سیستم TB Trading Bot ارائه دهید.

منابع در دسترس:
- کد کامل ریپازیتوری TB (تمام ماژول‌های Python)
- فایل LOG.txt شامل فعالیت‌های سیستم
- آمار تشخیصی JSON/Markdown تولید شده توسط log_summary.py

گزارش باید شامل این بخش‌ها باشد:

A. **خلاصه کلی سیستم**
   - معماری کلی سیستم
   - اجزای اصلی و روابط آنها
   - وضعیت عملکرد کلی

B. **تحلیل عملکرد مدل هوش مصنوعی**
   - دقت مدل و متریک‌های کیفیت
   - عملکرد انتخاب ویژگی (Feature Selection)
   - کیفیت سیگنال‌های تولیدی

C. **تحلیل فعالیت‌های معاملاتی**
   - آمار سیگنال‌های خرید/فروش
   - عملکرد روی نمادهای مختلف (BTCUSDT, ETHUSDT, SOLUSDT, DOGEUSDT)
   - زمان‌بندی و فرکانس معاملات

D. **تحلیل خطاها و مشکلات**
   - انواع خطاهای سیستم و فراوانی آنها
   - مشکلات اتصال API
   - خطاهای پردازش داده

E. **تحلیل عملکرد فنی**
   - زمان پاسخ سیستم
   - مصرف منابع
   - کیفیت لاگ‌گذاری

F. **وضعیت امنیت و ریسک**
   - مکانیزم‌های مدیریت ریسک
   - حالت دمو در مقابل معاملات واقعی
   - تنظیمات ایمنی

G. **کیفیت کد و معماری**
   - ساختار پروژه
   - کیفیت کد و قابلیت نگهداری
   - الگوهای طراحی استفاده شده

H. **سیستم نظارت و مانیتورینگ**
   - وب داشبورد
   - سیستم لاگ‌گذاری
   - متریک‌های زمان واقعی

I. **تحلیل داده‌های ورودی**
   - کیفیت داده‌های بازار
   - 196+ اندیکاتور فنی
   - پردازش زمان واقعی

J. **نتیجه‌گیری و اولویت‌بندی**
   - نقاط قوت کلیدی سیستم
   - مشکلات اصلی شناسایی شده
   - اولویت‌بندی موضوعات نیازمند توجه

توجه: این گزارش صرفاً تشخیصی است و هیچ راه‌حل یا پیشنهاد اصلاحی ارائه نمی‌دهد.
```

---

## پرامپت 2: برنامه اصلاحات (Remediation Plan)

**⚠️ مهم: این پرامپت فقط پس از دریافت خروجی کامل پرامپت اول قابل استفاده است.**

```
بر اساس گزارش تشخیصی ارائه شده در مرحله قبل، یک برنامه عملیاتی جامع برای بهبود سیستم TB Trading Bot تهیه کنید.

ورودی‌های مورد نیاز:
- گزارش تشخیصی کامل از مرحله قبل
- آمار فنی سیستم
- اولویت‌بندی مشکلات شناسایی شده

برنامه اصلاحات باید شامل این بخش‌ها باشد:

1. **اقدامات فوری (اولویت بالا)**
   - مشکلات حیاتی نیازمند رفع فوری
   - اقدامات ایمنی ضروری
   - زمان‌بندی: 1-7 روز

2. **بهبود عملکرد مدل هوش مصنوعی**
   - بهینه‌سازی دقت مدل
   - تنظیم پارامترهای آستانه اطمینان
   - بهبود فرآیند انتخاب ویژگی

3. **بهینه‌سازی سیستم معاملاتی**
   - بهبود منطق مدیریت ریسک
   - تنظیم استراتژی Stop Loss/Take Profit
   - بهینه‌سازی فرکانس سیگنال‌ها

4. **رفع مشکلات فنی**
   - حل خطاهای API
   - بهبود پایداری اتصال
   - رفع مشکلات عملکرد

5. **تقویت سیستم نظارت**
   - بهبود داشبورد
   - تکمیل متریک‌های مانیتورینگ
   - افزودن هشدارهای هوشمند

6. **بهبود کیفیت کد**
   - رفع نقاط ضعف معماری
   - افزودن تست‌های بیشتر
   - بهبود مستندات

7. **امنیت و قابلیت اطمینان**
   - تقویت مکانیزم‌های امنیتی
   - بهبود مدیریت خطا
   - افزودن redundancy

8. **بهینه‌سازی منابع**
   - کاهش مصرف CPU/Memory
   - بهبود سرعت پردازش
   - بهینه‌سازی درخواست‌های شبکه

9. **توسعه قابلیت‌های جدید**
   - افزودن صرافی‌های جدید
   - بهبود الگوریتم‌های یادگیری
   - افزودن ویژگی‌های تحلیلی

10. **برنامه زمان‌بندی و اجرا**
    - Timeline دقیق برای هر اقدام
    - تخصیص منابع مورد نیاز
    - معیارهای موفقیت و KPIها
    - روش‌های تست و validation

هر بخش باید شامل:
- شرح دقیق مشکل
- راه‌حل پیشنهادی
- تخمین زمان اجرا
- منابع مورد نیاز
- ریسک‌های احتمالی
- متریک‌های سنجش موفقیت

توجه: اولویت‌بندی بر اساس تأثیر بر کیفیت معاملات و ایمنی سیستم باشد.
```

---

## نکات مهم

1. **ترتیب اجرا**: حتماً ابتدا پرامپت تشخیص و سپس پرامپت برنامه اصلاحات اجرا شود
2. **داده‌های مورد نیاز**: قبل از اجرا، آمار log_summary.py را تولید کنید
3. **زبان خروجی**: خروجی‌ها به زبان فارسی باشند
4. **دقت در جزئیات**: هر دو پرامپت نیازمند بررسی دقیق تمام اجزای سیستم هستند

## فایل‌های مرجع

- Repository: `pilotamir1/TB`
- Log file: `LOG.txt`
- Generated stats: `reports/diagnostic_stats.json` و `reports/diagnostic_stats.md`
- System modules: تمام فایل‌های `.py` در repository